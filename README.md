# Pretty Please (pls)

> è®© AI æŠŠè‡ªç„¶è¯­è¨€å˜æˆ Shell å‘½ä»¤

ä¸€ä¸ª AI é©±åŠ¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨è‡ªç„¶è¯­è¨€æè¿°ä½ æƒ³åšä»€ä¹ˆï¼ŒAI å¸®ä½ ç”Ÿæˆå¹¶æ‰§è¡Œå¯¹åº”çš„ Shell å‘½ä»¤ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ¤– **è‡ªç„¶è¯­è¨€è½¬å‘½ä»¤** - ç”¨äººè¯è¯´ä½ æƒ³å¹²ä»€ä¹ˆï¼ŒAI è‡ªåŠ¨ç”Ÿæˆå‘½ä»¤
- ğŸ”„ **å¤šæ­¥éª¤å‘½ä»¤** - AI è‡ªåŠ¨è§„åˆ’å¤šä¸ªæ­¥éª¤ï¼Œåç»­å‘½ä»¤ä¾èµ–å‰é¢çš„æ‰§è¡Œç»“æœ
- ğŸ›¡ï¸ **æ™ºèƒ½é”™è¯¯æ¢å¤** - å‘½ä»¤å¤±è´¥æ—¶ AI è‡ªåŠ¨åˆ†æå¹¶è°ƒæ•´ç­–ç•¥
- âœï¸ **å‘½ä»¤ç¼–è¾‘** - æ‰§è¡Œå‰å¯ç¼–è¾‘ AI ç”Ÿæˆçš„å‘½ä»¤ï¼Œæ”¯æŒ manual/auto ä¸¤ç§æ¨¡å¼
- ğŸ’¬ **AI å¯¹è¯æ¨¡å¼** - éšæ—¶é—® AI å‘½ä»¤æ€ä¹ˆç”¨
- ğŸŒ **è¿œç¨‹æ‰§è¡Œ** - é€šè¿‡ SSH åœ¨è¿œç¨‹æœåŠ¡å™¨æ‰§è¡Œå‘½ä»¤ï¼Œæ”¯æŒå¯†ç /å¯†é’¥è®¤è¯
- ğŸ“œ **ä¸‰ç§å†å²è®°å½•** - å‘½ä»¤å†å²ã€å¯¹è¯å†å²ã€Shell å†å²ç»Ÿä¸€ç®¡ç†
- ğŸ¨ **ç²¾ç¾ç•Œé¢** - åŸºäº React + Ink çš„ç»ˆç«¯ UIï¼ŒMarkdown æ¸²æŸ“
- ğŸŒ— **ä¸»é¢˜åˆ‡æ¢** - æ”¯æŒ dark/light ä¸»é¢˜ï¼Œé€‚é…ä¸åŒç»ˆç«¯èƒŒæ™¯
- ğŸ·ï¸ **å‘½ä»¤åˆ«å** - å¸¸ç”¨æ“ä½œä¸€é”®è§¦å‘ï¼Œæ”¯æŒå‚æ•°æ¨¡æ¿
- ğŸ”§ **å¤š Provider æ”¯æŒ** - æ”¯æŒ OpenAIã€DeepSeekã€Anthropic ç­‰å¤šç§ AI
- ğŸš€ **ä¸€é”®å‡çº§** - å†…ç½® `pls upgrade` å‘½ä»¤ï¼Œè‡ªåŠ¨æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬

## ğŸ“¦ å®‰è£…

### æ–¹å¼ä¸€ï¼šnpm/pnpm å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨ npm
npm install -g @yivan-lab/pretty-please

# æˆ–ä½¿ç”¨ pnpm
pnpm add -g @yivan-lab/pretty-please

# æˆ–ä½¿ç”¨ yarn
yarn global add @yivan-lab/pretty-please
```

å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥åœ¨ä»»ä½•ç›®å½•ä½¿ç”¨ `pls` æˆ– `please` å‘½ä»¤äº†ï¼

### æ–¹å¼äºŒï¼šä»æºç å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/IvanLark/pretty-please.git
cd pretty-please

# å®‰è£…ä¾èµ–
pnpm install

# æ„å»º
pnpm build

# å…¨å±€é“¾æ¥
pnpm link --global
```

å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥åœ¨ä»»ä½•ç›®å½•ä½¿ç”¨ `pls` æˆ– `please` å‘½ä»¤äº†ï¼

### æ–¹å¼ä¸‰ï¼šä¸€é”®å®‰è£…ï¼ˆæ— éœ€ Node.jsï¼‰

é€‚ç”¨äºäº‘æœåŠ¡å™¨ã€DevOps åœºæ™¯ï¼Œæ— éœ€ Node.js ç¯å¢ƒï¼š

**Linux / macOS:**
```bash
curl -fsSL https://raw.githubusercontent.com/IvanLark/pretty-please/main/install.sh | bash
```

**Windows (PowerShell):**
```powershell
irm https://raw.githubusercontent.com/IvanLark/pretty-please/main/install.ps1 | iex
```

æ”¯æŒçš„å¹³å°ï¼š
- Linux x64 / arm64
- macOS Intel / Apple Silicon
- Windows x64

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½® API

é¦–æ¬¡ä½¿ç”¨éœ€è¦é…ç½® AI APIï¼š

```bash
pls config
```

ä¼šå¯åŠ¨äº¤äº’å¼é…ç½®å‘å¯¼ï¼ŒæŒ‰æç¤ºè¾“å…¥ï¼š
- **Provider**: openai / deepseek / anthropic ç­‰ï¼ˆé»˜è®¤ openaiï¼‰
- **Base URL**: API åœ°å€
- **API Key**: ä½ çš„ API å¯†é’¥
- **Model**: æ¨¡å‹åç§°ï¼ˆå¦‚ gpt-4-turbo / deepseek-chatï¼‰
- **Shell Hook**: æ˜¯å¦å¯ç”¨Shell Hookï¼ˆShell Hook å¯ä»¥è®°å½•ä½ åœ¨ç»ˆç«¯æ‰§è¡Œçš„å†å²å‘½ä»¤ï¼Œè®© AI æ›´æ™ºèƒ½åœ°ç†è§£ä¸Šä¸‹æ–‡ï¼Œæ¨èå¯ç”¨ï¼‰

### 2. å¼€å§‹ä½¿ç”¨

```bash
# ç”Ÿæˆå¹¶æ‰§è¡Œå‘½ä»¤
pls æŸ¥çœ‹å½“å‰ç›®å½•

# å¤æ‚ä»»åŠ¡ï¼ˆå¤šæ­¥éª¤ï¼‰
pls æŸ¥æ‰¾å¤§äº100MBçš„æ—¥å¿—æ–‡ä»¶å¹¶å‹ç¼©

# AI å¯¹è¯æ¨¡å¼
pls chat grep å‘½ä»¤æ€ä¹ˆç”¨
```

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### å•æ­¥å‘½ä»¤

æœ€åŸºç¡€çš„ç”¨æ³•ï¼Œç”¨è‡ªç„¶è¯­è¨€æè¿°ä½ æƒ³åšä»€ä¹ˆï¼š

```bash
pls æŸ¥çœ‹å½“å‰ç›®å½•
pls å®‰è£… git
pls æŸ¥çœ‹å½“å‰ IP åœ°å€
pls åˆ é™¤æ‰€æœ‰ .DS_Store æ–‡ä»¶
```

AI ä¼šç”Ÿæˆå¯¹åº”çš„å‘½ä»¤ï¼Œä½ ç¡®è®¤åæ‰§è¡Œã€‚

### å¤šæ­¥éª¤å‘½ä»¤

å¯¹äºéœ€è¦å¤šä¸ªæ­¥éª¤çš„å¤æ‚ä»»åŠ¡ï¼ŒAI ä¼šè‡ªåŠ¨è§„åˆ’å¹¶é€æ­¥æ‰§è¡Œï¼š

```bash
pls æŸ¥æ‰¾å¤§äº100MBçš„æ—¥å¿—æ–‡ä»¶å¹¶å‹ç¼©
```

æ‰§è¡Œè¿‡ç¨‹ï¼š
1. **æ­¥éª¤ 1**: AI ç”Ÿæˆ `find . -name '*.log' -size +100M` æŸ¥æ‰¾å¤§æ–‡ä»¶
2. ä½ ç¡®è®¤åæ‰§è¡Œï¼Œæ‰¾åˆ°äº† `app.log` å’Œ `system.log`
3. **æ­¥éª¤ 2**: AI æ ¹æ®ä¸Šä¸€æ­¥çš„è¾“å‡ºï¼Œç”Ÿæˆ `tar -czf logs.tar.gz app.log system.log` å‹ç¼©å‘½ä»¤
4. å®Œæˆï¼

æ¯æ­¥æ‰§è¡Œåï¼ŒAI ä¼šæ ¹æ®å®é™…è¾“å‡ºç»“æœæ™ºèƒ½åœ°å†³å®šä¸‹ä¸€æ­¥æ€ä¹ˆåšã€‚

### æ™ºèƒ½å¼•ç”¨å†å²

AI èƒ½è®°ä½ä½ æ‰§è¡Œè¿‡çš„å‘½ä»¤ï¼Œæ”¯æŒå¼•ç”¨ä¹‹å‰çš„æ“ä½œï¼š

```bash
# ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ–‡ä»¶
pls åˆ›å»ºä¸€ä¸ªåä¸º test.txt çš„æ–‡ä»¶

# ç¬¬äºŒæ­¥ï¼šå¼•ç”¨åˆšæ‰çš„æ“ä½œ
pls åˆ é™¤åˆšæ‰åˆ›å»ºçš„æ–‡ä»¶
# AI ä¼šçŸ¥é“ä½ è¯´çš„æ˜¯ test.txt

# æˆ–è€…æ‰‹åŠ¨æ‰§è¡Œäº†æŸä¸ªå‘½ä»¤
mkdir my-project
cd my-project

# ç„¶åè®© AI åŸºäºå½“å‰ä¸Šä¸‹æ–‡å·¥ä½œ
pls åœ¨è¿™ä¸ªç›®å½•åˆå§‹åŒ– git ä»“åº“
```

æ”¯æŒçš„å¼•ç”¨æ–¹å¼ï¼š
- "åˆšæ‰çš„æ–‡ä»¶"
- "ä¸Šä¸€ä¸ªå‘½ä»¤"
- "åˆšåˆ›å»ºçš„ç›®å½•"
- AI ä¼šè‡ªåŠ¨ä»å†å²è®°å½•ä¸­æå–ç›¸å…³ä¿¡æ¯

### é”™è¯¯æ¢å¤

å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼ŸAI ä¼šè‡ªåŠ¨åˆ†æå¹¶è°ƒæ•´ç­–ç•¥ï¼š

```bash
pls å°† test.zip ç§»åŠ¨åˆ° aã€bã€c ä¸‰ä¸ªæ–‡ä»¶å¤¹
```

æ‰§è¡Œè¿‡ç¨‹ï¼š
1. **æ­¥éª¤ 1**: `mv test.zip a/` âœ“ æˆåŠŸ
2. **æ­¥éª¤ 2**: `mv test.zip b/` âœ— å¤±è´¥ï¼ˆæ–‡ä»¶å·²è¢«ç§»èµ°ï¼‰
3. AI åˆ†æé”™è¯¯ï¼Œè°ƒæ•´ç­–ç•¥
4. **æ­¥éª¤ 3**: `cp a/test.zip b/ && cp a/test.zip c/` âœ“ æ”¹ç”¨å¤åˆ¶

AI ä¸ä¼šå› ä¸ºä¸€æ¬¡å¤±è´¥å°±æ”¾å¼ƒï¼Œè€Œæ˜¯ç†è§£é”™è¯¯åŸå› å¹¶æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚

### å‘½ä»¤ç¼–è¾‘

AI ç”Ÿæˆçš„å‘½ä»¤å¯èƒ½ä¸å®Œå…¨ç¬¦åˆä½ çš„éœ€æ±‚ï¼Œä½ å¯ä»¥åœ¨æ‰§è¡Œå‰ç¼–è¾‘å®ƒï¼š

**manual æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰**ï¼š

```
â”Œâ”€ ç”Ÿæˆå‘½ä»¤ â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ls -la           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ‰§è¡Œï¼Ÿ [å›è½¦æ‰§è¡Œ / E ç¼–è¾‘ / Esc å–æ¶ˆ]

# æŒ‰ E è¿›å…¥ç¼–è¾‘
â”Œâ”€ ç”Ÿæˆå‘½ä»¤ â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ls -la           â”‚  â† AI å»ºè®®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
> ls -lâ–ˆ            â† å¯ç¼–è¾‘

[å›è½¦æ‰§è¡Œ / Esc è¿”å›]
```

**auto æ¨¡å¼**ï¼šè‡ªåŠ¨è¿›å…¥ç¼–è¾‘ï¼Œç›´æ¥ä¿®æ”¹åæ‰§è¡Œ

```bash
# åˆ‡æ¢åˆ° auto æ¨¡å¼
pls config set editMode auto
```

ç¼–è¾‘åçš„å‘½ä»¤ä¼šè¢«è®°å½•åˆ°å†å²ä¸­ï¼Œå¹¶æ ‡æ³¨ä¿®æ”¹å‰åçš„å¯¹æ¯”ã€‚

### å¯¹è¯æ¨¡å¼ï¼šå‘½ä»¤è®²è§£å’Œé—®ç­”

æƒ³äº†è§£æŸä¸ªå‘½ä»¤æ€ä¹ˆç”¨ï¼Ÿç”¨ `pls chat` å¼€å¯å¯¹è¯æ¨¡å¼ï¼š

```bash
# è¯¢é—®å‘½ä»¤ç”¨æ³•
pls chat tar å‘½ä»¤æ€ä¹ˆç”¨

# è§£é‡Šåˆšæ‰æ‰§è¡Œçš„å‘½ä»¤
pls æ‰¾åˆ°æ‰€æœ‰ node_modules ç›®å½•å¹¶è®¡ç®—å¤§å°
pls chat åˆšæ‰é‚£ä¸ªå‘½ä»¤æ˜¯å¹²å˜›çš„ï¼Ÿ
# AI ä¼šè¯¦ç»†è§£é‡Šåˆšæ‰ç”Ÿæˆçš„å‘½ä»¤çš„å«ä¹‰å’Œå‚æ•°

# æé—®é¢˜
pls chat å¦‚ä½•æ‰¹é‡é‡å‘½åæ–‡ä»¶
pls chat grep å’Œ awk æœ‰ä»€ä¹ˆåŒºåˆ«
pls chat å¦‚ä½•åœ¨ Linux ä¸‹æŒ‚è½½ç¡¬ç›˜

# æ¸…ç©ºå¯¹è¯å†å²
pls chat clear
```

`pls chat` çš„ç‰¹ç‚¹ï¼š
- ğŸ“– **å‘½ä»¤è®²è§£** - è§£é‡Šå‘½ä»¤çš„å«ä¹‰ã€å‚æ•°ã€ç”¨æ³•
- ğŸ’¡ **é—®é¢˜è§£ç­”** - å›ç­” Shellã€Linuxã€å‘½ä»¤è¡Œç›¸å…³é—®é¢˜
- ğŸ¯ **ä¸Šä¸‹æ–‡æ„ŸçŸ¥** - èƒ½å¼•ç”¨ä½ åˆšæ‰æ‰§è¡Œçš„å‘½ä»¤
- ğŸ“ **Markdown æ¸²æŸ“** - æ”¯æŒä»£ç é«˜äº®ã€è¡¨æ ¼ã€åˆ—è¡¨ç­‰ç²¾ç¾æ ¼å¼
- ğŸ’¬ **è¿ç»­å¯¹è¯** - ä¿ç•™å†å²ï¼Œå¯ä»¥è¿½é—®å’Œæ·±å…¥è®¨è®º

### æŸ¥çœ‹å†å²è®°å½•

```bash
# æŸ¥çœ‹å‘½ä»¤å†å²
pls history

# æŸ¥çœ‹å¯¹è¯å†å²
pls history chat

# æŸ¥çœ‹ Shell å†å²ï¼ˆéœ€è¦å¯ç”¨ Shell Hookï¼‰
pls history shell

# æ¸…ç©ºå„ç§å†å²
pls history clear         # æ¸…ç©ºå‘½ä»¤å†å²
pls history chat clear    # æ¸…ç©ºå¯¹è¯å†å²
pls history shell clear   # æ¸…ç©º Shell å†å²
```

å†å²è®°å½•åŒ…å«ï¼š
- ä½ çš„åŸå§‹éœ€æ±‚ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰
- AI ç”Ÿæˆçš„å‘½ä»¤
- ç”¨æˆ·ä¿®æ”¹åçš„å‘½ä»¤ï¼ˆå¦‚æœ‰ä¿®æ”¹ï¼‰
- æ‰§è¡ŒçŠ¶æ€ï¼ˆæˆåŠŸ/å¤±è´¥/é€€å‡ºç ï¼‰
- æ‰§è¡Œæ—¶é—´

## âš™ï¸ é…ç½®ç®¡ç†

```bash
pls config           # äº¤äº’å¼é…ç½®å‘å¯¼
pls config list      # æŸ¥çœ‹å½“å‰é…ç½®
pls config show      # åŒä¸Š
pls config set <key> <value>  # è®¾ç½®å•ä¸ªé…ç½®é¡¹
```

### é…ç½®é¡¹è¯´æ˜

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `apiKey` | AI API å¯†é’¥ | - |
| `baseUrl` | API åŸºç¡€ URL | `https://api.openai.com/v1` |
| `provider` | AI Provider | `openai` |
| `model` | æ¨¡å‹åç§° | `gpt-4-turbo` |
| `shellHook` | å¯ç”¨ç»ˆç«¯å†å²è®°å½• | `false` |
| `editMode` | å‘½ä»¤ç¼–è¾‘æ¨¡å¼ï¼ˆmanual/autoï¼‰ | `manual` |
| `chatHistoryLimit` | å¯¹è¯å†å²ä¿ç•™è½®æ•° | `10` |
| `commandHistoryLimit` | å‘½ä»¤å†å²ä¿ç•™æ¡æ•° | `10` |
| `shellHistoryLimit` | Shell å†å²ä¿ç•™æ¡æ•° | `15` |
| `theme` | ç•Œé¢ä¸»é¢˜ï¼ˆdark/lightï¼‰ | `dark` |
| `aliases` | å‘½ä»¤åˆ«åé…ç½® | `{}` |

### æ”¯æŒçš„ Provider

- `openai` - OpenAI GPT ç³»åˆ—
- `deepseek` - DeepSeek
- `anthropic` - Claude
- `google` - Gemini
- `groq` - Groq
- `mistral` - Mistral AI
- `cohere` - Cohere
- `fireworks` - Fireworks AI
- `together` - Together AI

## ğŸŒ è¿œç¨‹æ‰§è¡Œ

é€šè¿‡ SSH åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæ‰§è¡Œ AI ç”Ÿæˆçš„å‘½ä»¤ï¼Œæ”¯æŒå¯†ç /å¯†é’¥è®¤è¯ã€‚

### æ·»åŠ è¿œç¨‹æœåŠ¡å™¨

```bash
# ä½¿ç”¨é»˜è®¤å¯†é’¥ï¼ˆ~/.ssh/id_rsaï¼‰
pls remote add myserver root@192.168.1.100

# æŒ‡å®šç«¯å£
pls remote add myserver root@192.168.1.100:2222

# ä½¿ç”¨æŒ‡å®šå¯†é’¥
pls remote add myserver root@192.168.1.100 --key ~/.ssh/my_key

# ä½¿ç”¨å¯†ç è®¤è¯ï¼ˆæ¯æ¬¡æ‰§è¡Œæ—¶è¾“å…¥å¯†ç ï¼‰
pls remote add myserver root@192.168.1.100 --password
```

### ç®¡ç†è¿œç¨‹æœåŠ¡å™¨

```bash
pls remote                    # æŸ¥çœ‹æ‰€æœ‰æœåŠ¡å™¨
pls remote list               # åŒä¸Š
pls remote test myserver      # æµ‹è¯•è¿æ¥å¹¶é‡‡é›†ç³»ç»Ÿä¿¡æ¯
pls remote remove myserver    # åˆ é™¤æœåŠ¡å™¨
```

### è®¾ç½®é»˜è®¤æœåŠ¡å™¨

```bash
pls remote default myserver   # è®¾ç½®é»˜è®¤æœåŠ¡å™¨
pls remote default            # æŸ¥çœ‹å½“å‰é»˜è®¤æœåŠ¡å™¨
pls remote default --clear    # æ¸…é™¤é»˜è®¤æœåŠ¡å™¨
```

è®¾ç½®é»˜è®¤æœåŠ¡å™¨åï¼Œä½¿ç”¨ `-r` å‚æ•°æ—¶å¯ä»¥çœç•¥æœåŠ¡å™¨åï¼š

```bash
pls -r æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ        # ä½¿ç”¨é»˜è®¤æœåŠ¡å™¨
```

### è®¾ç½®å·¥ä½œç›®å½•

```bash
pls remote workdir myserver /var/www    # è®¾ç½®å·¥ä½œç›®å½•
pls remote workdir myserver             # æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•
pls remote workdir myserver --clear     # æ¸…é™¤å·¥ä½œç›®å½•
```

è®¾ç½®å·¥ä½œç›®å½•åï¼Œæ‰€æœ‰å‘½ä»¤ä¼šè‡ªåŠ¨åœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œã€‚

### è¿œç¨‹æ‰§è¡Œå‘½ä»¤

```bash
# æŒ‡å®šæœåŠ¡å™¨æ‰§è¡Œ
pls -r myserver æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ
pls -r myserver æŸ¥æ‰¾å¤§äº 100MB çš„æ—¥å¿—æ–‡ä»¶

# ä½¿ç”¨é»˜è®¤æœåŠ¡å™¨ï¼ˆéœ€å…ˆè®¾ç½®ï¼‰
pls -r æŸ¥çœ‹å½“å‰ç›®å½•çš„æ–‡ä»¶
```

### æ‰¹é‡è¿œç¨‹æ‰§è¡Œ â­

åœ¨å¤šå°æœåŠ¡å™¨ä¸Šå¹¶å‘æ‰§è¡ŒåŒä¸€ä¸ªä»»åŠ¡ï¼Œæ¯ä¸ªæœåŠ¡å™¨è‡ªåŠ¨ç”Ÿæˆé€‚é…å…¶ç¯å¢ƒçš„å‘½ä»¤ï¼š

```bash
# æ‰¹é‡æ‰§è¡Œï¼ˆé€—å·åˆ†éš”æœåŠ¡å™¨åï¼‰
pls -r web1,web2,web3 æŸ¥çœ‹ nginx çŠ¶æ€
pls -r server1,server2 æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ
pls -r prod1,prod2,prod3 é‡å¯åº”ç”¨æœåŠ¡
```

**ç‰¹ç‚¹ï¼š**
- ğŸš€ **å¹¶å‘æ‰§è¡Œ** - æ‰€æœ‰æœåŠ¡å™¨åŒæ—¶ç”Ÿæˆå‘½ä»¤å’Œæ‰§è¡Œï¼Œé€Ÿåº¦å¿«
- ğŸ”§ **è‡ªåŠ¨é€‚é…** - æ¯ä¸ªæœåŠ¡å™¨æ ¹æ®å…¶ç³»ç»Ÿç¯å¢ƒç”Ÿæˆç‹¬ç«‹å‘½ä»¤ï¼ˆæ”¯æŒå¼‚æ„ç¯å¢ƒï¼‰
- ğŸ“Š **æ¸…æ™°å±•ç¤º** - æ˜¾ç¤ºæ¯ä¸ªæœåŠ¡å™¨çš„å‘½ä»¤å’Œæ‰§è¡Œç»“æœ
- ğŸ“ **å†å²è®°å½•** - è‡ªåŠ¨è®°å½•åˆ°æ¯ä¸ªæœåŠ¡å™¨çš„å†å²

**æ‰§è¡Œæµç¨‹ç¤ºä¾‹ï¼š**

```bash
$ pls -r web1,web2,web3 æŸ¥çœ‹ nginx çŠ¶æ€

æ­£åœ¨ä¸º 3 å°æœåŠ¡å™¨ç”Ÿæˆå‘½ä»¤...

âœ“ å‘½ä»¤ç”Ÿæˆå®Œæˆ

web1 (linux):
  systemctl status nginx | grep Active

web2 (linux):
  systemctl status nginx | grep Active

web3 (linux):
  systemctl status nginx | grep Active

å°†åœ¨ 3 å°æœåŠ¡å™¨æ‰§è¡Œä»¥ä¸Šå‘½ä»¤
æ‰§è¡Œï¼Ÿ [å›è½¦æ‰§è¡Œ / Ctrl+C å–æ¶ˆ]

æ­£åœ¨æ‰§è¡Œ...

æ‰§è¡Œå®Œæˆ:

  âœ“ web1 (é€€å‡ºç : 0)
  âœ“ web2 (é€€å‡ºç : 0)
  âœ— web3 (é€€å‡ºç : 3)

â”€â”€â”€ web1 â”€â”€â”€
   Active: active (running)

â”€â”€â”€ web2 â”€â”€â”€
   Active: active (running)

â”€â”€â”€ web3 â”€â”€â”€
   Active: inactive (dead)
```

**é€€å‡ºç ï¼š**
- `0` - å…¨éƒ¨æˆåŠŸ
- `1` - éƒ¨åˆ†å¤±è´¥
- `2` - å…¨éƒ¨å¤±è´¥

**é™åˆ¶ï¼š**
- æ‰¹é‡æ‰§è¡Œæ¨¡å¼ä¸æ”¯æŒå¤šæ­¥éª¤å‘½ä»¤ï¼ˆåªç”Ÿæˆå•ä¸ªå‘½ä»¤ï¼‰
- ä¸æ”¯æŒå‘½ä»¤ç¼–è¾‘ï¼ˆç›´æ¥æ‰§è¡Œç”Ÿæˆçš„å‘½ä»¤ï¼‰

### è¿œç¨‹ Shell Hook

åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šå®‰è£… Shell Hookï¼Œè®© AI äº†è§£ä½ åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æ“ä½œå†å²ï¼š

```bash
pls remote hook install myserver    # å®‰è£…è¿œç¨‹ Hook
pls remote hook status myserver     # æŸ¥çœ‹çŠ¶æ€
pls remote hook uninstall myserver  # å¸è½½ Hook
```

### è¿œç¨‹å†å²è®°å½•

```bash
pls remote history show myserver        # æŸ¥çœ‹è¿œç¨‹å‘½ä»¤å†å²
pls remote history clear myserver       # æ¸…ç©ºè¿œç¨‹å‘½ä»¤å†å²
pls remote history shell myserver       # æŸ¥çœ‹è¿œç¨‹ Shell å†å²
pls remote history shell-clear myserver # æ¸…ç©ºè¿œç¨‹ Shell å†å²
```

## ğŸ”§ Shell Hookï¼ˆå¯é€‰ï¼‰

Shell Hook å¯ä»¥è®°å½•ä½ åœ¨ç»ˆç«¯æ‰§è¡Œçš„æ‰€æœ‰å‘½ä»¤ï¼Œè®© AI æ›´æ™ºèƒ½åœ°ç†è§£ä¸Šä¸‹æ–‡ã€‚

```bash
pls hook install    # å®‰è£… hook
pls hook status     # æŸ¥çœ‹çŠ¶æ€
pls hook uninstall  # å¸è½½ hook
```

æ”¯æŒçš„ Shellï¼š
- zsh
- bash
- PowerShell

## ğŸŒ— ä¸»é¢˜ç³»ç»Ÿ

æ”¯æŒæ·±è‰²å’Œæµ…è‰²ä¸¤ç§ä¸»é¢˜ï¼Œé€‚é…ä¸åŒç»ˆç«¯èƒŒæ™¯ï¼š

```bash
pls theme              # æŸ¥çœ‹å½“å‰ä¸»é¢˜
pls theme list         # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ä¸»é¢˜
pls theme dark         # åˆ‡æ¢åˆ°æ·±è‰²ä¸»é¢˜
pls theme light        # åˆ‡æ¢åˆ°æµ…è‰²ä¸»é¢˜
```

ä¸»é¢˜è¯´æ˜ï¼š
- **darkï¼ˆæ·±è‰²ï¼‰** - æ˜äº®çš„é¢œè‰²ï¼Œé€‚åˆæ·±è‰²ç»ˆç«¯èƒŒæ™¯ï¼ˆé»˜è®¤ï¼‰
- **lightï¼ˆæµ…è‰²ï¼‰** - è¾ƒæ·±çš„é¢œè‰²ï¼Œé€‚åˆæµ…è‰²ç»ˆç«¯èƒŒæ™¯

ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®å‘½ä»¤åˆ‡æ¢ï¼š

```bash
pls config set theme light
```

## ğŸ·ï¸ å‘½ä»¤åˆ«å

å°†å¸¸ç”¨çš„æ“ä½œä¿å­˜ä¸ºåˆ«åï¼Œä¸€é”®è§¦å‘ï¼š

### åŸºæœ¬ä½¿ç”¨

```bash
# æ·»åŠ ç®€å•åˆ«å
pls alias add disk "æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µï¼ŒæŒ‰ä½¿ç”¨ç‡æ’åº"
pls alias add mem "æŸ¥çœ‹å†…å­˜ä½¿ç”¨æœ€é«˜çš„ 10 ä¸ªè¿›ç¨‹"

# ä½¿ç”¨åˆ«åï¼ˆä¸¤ç§æ ¼å¼éƒ½æ”¯æŒï¼‰
pls disk
pls @disk

# æŸ¥çœ‹æ‰€æœ‰åˆ«å
pls alias
pls alias list

# åˆ é™¤åˆ«å
pls alias remove disk
```

### å‚æ•°æ¨¡æ¿

æ”¯æŒåŠ¨æ€å‚æ•°ï¼Œè®©åˆ«åæ›´çµæ´»ï¼š

```bash
# æ·»åŠ å¸¦å‚æ•°çš„åˆ«å
pls alias add taillog "æŸ¥çœ‹ {{file}} çš„æœ€å {{lines:20}} è¡Œæ—¥å¿—"

# ä½¿ç”¨æ—¶ä¼ å‚
pls taillog --file=/var/log/system.log                # lines ä½¿ç”¨é»˜è®¤å€¼ 20
pls taillog --file=/var/log/system.log --lines=50     # è‡ªå®šä¹‰ lines
pls taillog file=/var/log/nginx.log lines=100         # ä¸å¸¦ -- ä¹Ÿå¯ä»¥
```

å‚æ•°æ ¼å¼è¯´æ˜ï¼š
- `{{param}}` - å¿…å¡«å‚æ•°ï¼Œä¸æä¾›ä¼šæŠ¥é”™
- `{{param:default}}` - å¯é€‰å‚æ•°ï¼Œæœ‰é»˜è®¤å€¼

### åˆ«å + é¢å¤–æè¿°

åˆ«ååå¯ä»¥è¿½åŠ é¢å¤–çš„æè¿°ï¼š

```bash
pls disk æ˜¾ç¤ºè¯¦æƒ…      # ç­‰åŒäº pls æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µï¼ŒæŒ‰ä½¿ç”¨ç‡æ’åº æ˜¾ç¤ºè¯¦æƒ…
```

## ğŸš€ ç‰ˆæœ¬å‡çº§

### è‡ªåŠ¨æ›´æ–°æç¤º

ç¨‹åºä¼šæ¯ 24 å°æ—¶æ£€æŸ¥ä¸€æ¬¡æ–°ç‰ˆæœ¬ï¼Œå‘ç°æ›´æ–°æ—¶åœ¨å‘½ä»¤ç»“æŸåæç¤ºï¼š

```
âš  å‘ç°æ–°ç‰ˆæœ¬: 1.1.0 â†’ 1.2.0ï¼Œè¿è¡Œ pls upgrade æ›´æ–°
```

### å‡çº§å‘½ä»¤

```bash
# å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
pls upgrade
```

å‡çº§æ–¹å¼ï¼š
- **äºŒè¿›åˆ¶å®‰è£…**ï¼ˆcurl/irmï¼‰ï¼šè‡ªåŠ¨ä¸‹è½½å¹¶æ›¿æ¢
- **npm å®‰è£…**ï¼šæç¤ºä½¿ç”¨ `npm update -g @yivan-lab/pretty-please`

## ğŸ¯ å‘½ä»¤å‚è€ƒ

### åŸºç¡€å‘½ä»¤

```bash
pls <è‡ªç„¶è¯­è¨€æè¿°>      # ç”Ÿæˆå¹¶æ‰§è¡Œå‘½ä»¤
pls -d <æè¿°>           # Debug æ¨¡å¼ï¼ˆæ˜¾ç¤ºå®Œæ•´æç¤ºè¯ï¼‰
pls --debug <æè¿°>      # åŒä¸Š
pls -v                  # æŸ¥çœ‹ç‰ˆæœ¬
pls -h                  # æŸ¥çœ‹å¸®åŠ©
```

### å­å‘½ä»¤

```bash
# é…ç½®
pls config
pls config list
pls config set <key> <value>

# å†å²
pls history              # å‘½ä»¤å†å²
pls history clear        # æ¸…ç©ºå‘½ä»¤å†å²
pls history chat         # å¯¹è¯å†å²
pls history chat clear   # æ¸…ç©ºå¯¹è¯å†å²
pls history shell        # Shell å†å²
pls history shell clear  # æ¸…ç©º Shell å†å²

# å¯¹è¯
pls chat <é—®é¢˜>
pls chat clear

# Shell Hook
pls hook
pls hook install
pls hook uninstall
pls hook status

# ä¸»é¢˜
pls theme                # æŸ¥çœ‹å½“å‰ä¸»é¢˜
pls theme list           # æŸ¥çœ‹æ‰€æœ‰ä¸»é¢˜
pls theme <dark|light>   # åˆ‡æ¢ä¸»é¢˜

# åˆ«å
pls alias                # æŸ¥çœ‹æ‰€æœ‰åˆ«å
pls alias list           # åŒä¸Š
pls alias add <name> "<prompt>"  # æ·»åŠ åˆ«å
pls alias remove <name>  # åˆ é™¤åˆ«å

# å‡çº§
pls upgrade              # å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
```

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **React 19 + Ink 6** - ç»ˆç«¯ UI ç»„ä»¶åŒ–æ¡†æ¶
- **Mastra 0.24** - AI Agent æ¡†æ¶ï¼Œæ”¯æŒ Structured Output
- **TypeScript 5.9** - 100% TypeScriptï¼Œå®Œæ•´ç±»å‹å®‰å…¨
- **Zod 3.25** - Schema éªŒè¯
- **Commander 14** - CLI å‚æ•°è§£æ

## ğŸ“ ç›®å½•ç»“æ„

```
pretty-please/
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ pls.tsx              # ä¸»å…¥å£
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ prompts.ts           # ç»Ÿä¸€ AI æç¤ºè¯ç®¡ç†
â”‚   â”œâ”€â”€ mastra-agent.ts      # Mastra Agentï¼ˆå‘½ä»¤ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ mastra-chat.ts       # Mastra Chat Agentï¼ˆå¯¹è¯æ¨¡å¼ï¼‰
â”‚   â”œâ”€â”€ multi-step.ts        # å¤šæ­¥éª¤å‘½ä»¤æ ¸å¿ƒ
â”‚   â”œâ”€â”€ config.ts            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ history.ts           # å‘½ä»¤å†å²
â”‚   â”œâ”€â”€ chat-history.ts      # å¯¹è¯å†å²
â”‚   â”œâ”€â”€ shell-hook.ts        # Shell é›†æˆ
â”‚   â”œâ”€â”€ builtin-detector.ts  # Shell builtin æ£€æµ‹
â”‚   â”œâ”€â”€ sysinfo.ts           # ç³»ç»Ÿä¿¡æ¯é‡‡é›†
â”‚   â”œâ”€â”€ upgrade.ts           # ç‰ˆæœ¬å‡çº§æ¨¡å—
â”‚   â”œâ”€â”€ alias.ts             # å‘½ä»¤åˆ«åç®¡ç†
â”‚   â”œâ”€â”€ components/          # React Ink ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MultiStepCommandGenerator.tsx
â”‚   â”‚   â”œâ”€â”€ Chat.tsx
â”‚   â”‚   â”œâ”€â”€ MarkdownDisplay.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â””â”€â”€ theme.ts         # ä¸»é¢˜ç³»ç»Ÿ
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ console.ts       # åŸç”Ÿè¾“å‡ºå·¥å…·
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

## ğŸ”¨ å¼€å‘æŒ‡å—

### å‘½ä»¤ç‰ˆæœ¬

| å‘½ä»¤ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `pls` / `please` | ç”Ÿäº§ç‰ˆæœ¬ | ç¼–è¯‘åçš„ JS |
| `pls-dev` | å¼€å‘ç‰ˆæœ¬ | çƒ­é‡è½½ï¼Œä»£ç ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ |

### é¦–æ¬¡è®¾ç½®

```bash
# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. æ„å»ºå¹¶é“¾æ¥ç”Ÿäº§ç‰ˆæœ¬
pnpm build
pnpm link --global

# 3. åˆ›å»ºå¼€å‘ç‰ˆæœ¬é“¾æ¥ï¼ˆéœ€è¦å…¨å±€å®‰è£… tsxï¼‰
pnpm add -g tsx
pnpm link:dev
```

### å¼€å‘æ¨¡å¼

```bash
# ä½¿ç”¨å¼€å‘å‘½ä»¤ï¼ˆæ¨èï¼Œçƒ­é‡è½½ï¼‰
pls-dev <å‘½ä»¤>

# æˆ–ä½¿ç”¨ dev è„šæœ¬
pnpm dev <å‚æ•°>
```

ä»£ç ä¿®æ”¹ä¼šç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€é‡æ–°ç¼–è¯‘ã€‚

### æ„å»ºå’Œå‘å¸ƒ

```bash
# æ„å»º
pnpm build

# å‘å¸ƒåˆ° npmï¼ˆä¼šè‡ªåŠ¨å…ˆæ‰§è¡Œ buildï¼‰
npm publish
```

### ç›®å½•è¯´æ˜

- é…ç½®æ–‡ä»¶ï¼š`~/.please/config.json`
- å‘½ä»¤å†å²ï¼š`~/.please/history.json`
- å¯¹è¯å†å²ï¼š`~/.please/chat_history.json`
- Shell å†å²ï¼š`~/.please/shell_history.jsonl`

## ğŸ› å¸¸è§é—®é¢˜

### ä¸ºä»€ä¹ˆ Chat ä¼šæ¸…ç©ºç»ˆç«¯å†å²ï¼Ÿ

è¿™æ˜¯ Ink çš„è®¾è®¡å±€é™ã€‚æˆ‘ä»¬é‡‡ç”¨äº†æ··åˆæ¸²æŸ“æ¨¡å¼ï¼Œå‘½ä»¤æ‰§è¡Œä½¿ç”¨åŸç”Ÿè¾“å‡ºæ¥ä¿ç•™å†å²ï¼Œåªæœ‰ Chat æ¨¡å¼ä¼šæ¸…ç©ºã€‚

### AI è¿”å›çš„å‘½ä»¤æ ¼å¼ä¸å¯¹ï¼Ÿ

å¦‚æœé‡åˆ° AI ä¸éµå®ˆæ ¼å¼çš„æƒ…å†µï¼Œå¯ä»¥ï¼š
1. ä½¿ç”¨ `--debug` æŸ¥çœ‹å®Œæ•´æç¤ºè¯
2. æ£€æŸ¥ provider å’Œ model é…ç½®æ˜¯å¦æ­£ç¡®
3. æŸäº›æ¨¡å‹éœ€è¦ `jsonPromptInjection`ï¼ˆä»£ç å·²è‡ªåŠ¨å¤„ç†ï¼‰

### ä¸ºä»€ä¹ˆè¦ç”¨ Zod 3.xï¼Ÿ

AI SDK å’Œ Mastra ä¾èµ– Zod 3.23.8+ï¼ŒZod 4.x æœ‰ breaking changes ä¸å…¼å®¹ã€‚

## ğŸ“„ è®¸å¯è¯

MIT

## ğŸ™ è‡´è°¢

- [fuckit.sh](https://github.com/faithleysath/fuckit.sh) - æä¾›äº†æœ€åˆçš„çµæ„Ÿå’Œæ€è·¯ï¼Œä¸€ä¸ªä¼˜é›…çš„ AI å‘½ä»¤è¡Œå·¥å…·
- [Ink](https://github.com/vadimdemedes/ink) - ç»ˆç«¯ React æ¸²æŸ“å™¨
- [Mastra](https://mastra.ai) - AI Agent æ¡†æ¶

---

**Made with â¤ï¸ and AI**
